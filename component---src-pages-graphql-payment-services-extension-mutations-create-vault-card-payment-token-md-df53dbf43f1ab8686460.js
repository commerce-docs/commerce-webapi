"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[1105],{60241:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return c}});var n=a(58168),r=a(80045),d=(a(88763),a(15680)),m=a(83407);const l=["components"],i={},p=(o="InlineAlert",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var o;const u={_frontmatter:i},x=m.A;function c(e){let{components:t}=e,a=(0,r.A)(e,l);return(0,d.mdx)(x,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"createvaultcardpaymenttoken-mutation"},"createVaultCardPaymentToken mutation"),(0,d.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"This mutation is available only if you have installed ",(0,d.mdx)("a",{parentName:"p",href:"https://commercemarketplace.adobe.com/magento-payment-services.html"},"Payment Services for Adobe Commerce")," 2.10.0 or higher."),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardPaymentToken")," mutation creates a permanent ",(0,d.mdx)("inlineCode",{parentName:"p"},"vault_token_id")," and associates an optional card description, visible in the storefront."),(0,d.mdx)("p",null,"To run the ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardPaymentToken")," mutation, you need the ",(0,d.mdx)("inlineCode",{parentName:"p"},"setup_token")," generated with the ",(0,d.mdx)("a",{parentName:"p",href:"create-vault-card-setup-token.md"},(0,d.mdx)("inlineCode",{parentName:"a"},"createVaultCardSetupToken"))," mutation."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation { \n    createVaultCardPaymentToken(\n        input: CreateVaultCardPaymentTokenInput! \n    ) CreateVaultCardPaymentTokenOutput    \n}\n")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"The following example runs the ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardPaymentToken")," mutation to create a permanent ",(0,d.mdx)("inlineCode",{parentName:"p"},"vault_token_id")," for the given payment method."),(0,d.mdx)("h2",{id:"request"},"Request"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  createVaultCardPaymentToken(\n      input: {\n        setup_token_id: "23N11484TX9371211"\n        card_description: "My New Card"\n      } \n  ) {\n      vault_token_id \n      payment_source { \n          card {\n              brand \n              last_digits \n              expiry\n          } \n      }\n  }\n}\n')),(0,d.mdx)("h2",{id:"response"},"Response"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "data": {\n        "createVaultCardPaymentToken": {\n            "vault_token_id": "745bf41a-4196-41a6-a17a-0234f89118fc",\n            "payment_source": {\n                "card": {\n                    "brand": "VISA",\n                    "last_digits": "0004",\n                    "expiry": "2027-02"\n                }\n            }\n        }\n    }\n} \n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CreateVaultCardPaymentTokenInput")," object contains the following input attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"setup_token_id")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The ",(0,d.mdx)("inlineCode",{parentName:"td"},"setup_token")," obtained with the ",(0,d.mdx)("inlineCode",{parentName:"td"},"createVaultCardSetupToken")," mutation")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"card_description")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The description of the vaulted card")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CreateVaultCardPaymentTokenOutput")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"vault_token_id")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The vault payment token information")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"payment_source")),(0,d.mdx)("td",{parentName:"tr",align:null},"PaymentSourceOutput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The payment source information")))),(0,d.mdx)("h3",{id:"paymentsourceoutput-attributes"},(0,d.mdx)("inlineCode",{parentName:"h3"},"PaymentSourceOutput")," attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaymentSourceOutput")," object describes the payment source information. It contains the following attribute:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"card")),(0,d.mdx)("td",{parentName:"tr",align:null},"CardPaymentSourceOutput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The card payment source information.")))),(0,d.mdx)("h3",{id:"cardpaymentsourceoutput-object"},(0,d.mdx)("inlineCode",{parentName:"h3"},"CardPaymentSourceOutput")," object"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CardPaymentSourceOutput")," object describes the card payment source information"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"brand")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The brand of the card")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"last_digits")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Last digits of the card")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"expiry")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The expiry date of the card")))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-payment-services-extension-mutations-create-vault-card-payment-token-md-df53dbf43f1ab8686460.js.map