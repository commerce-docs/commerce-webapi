"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8098],{71166:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return p},default:function(){return s}});var a=n(58168),r=n(80045),d=(n(88763),n(15680)),m=n(83407);const l=["components"],p={},i=(o="InlineAlert",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var o;const u={_frontmatter:p},x=m.A;function s(e){let{components:t}=e,n=(0,r.A)(e,l);return(0,d.mdx)(x,(0,a.A)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"createvaultcardsetuptoken-mutation"},"createVaultCardSetupToken mutation"),(0,d.mdx)(i,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"This mutation is available only if you have installed ",(0,d.mdx)("a",{parentName:"p",href:"https://commercemarketplace.adobe.com/magento-payment-services.html"},"Payment Services for Adobe Commerce")," 2.10.0 or higher."),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardSetupToken")," mutation creates a temporary ",(0,d.mdx)("inlineCode",{parentName:"p"},"setup_token")," associated to the given payment source."),(0,d.mdx)("p",null,"Use this token to create a permanent token with the ",(0,d.mdx)("a",{parentName:"p",href:"create-vault-card-payment-token.md"},(0,d.mdx)("inlineCode",{parentName:"a"},"createVaultCardPaymentToken"))," mutation. The permanent token represents a payment method that is saved to the customer's vault."),(0,d.mdx)("p",null,"The setup token is generated with an empty card number in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"payment_source")," object purposefully. The PayPal SDK, in conjunction with hosted fields or credit cards field components, securely update the setup token with payment details."),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"https://developer.paypal.com/docs/multiparty/checkout/save-payment-methods/purchase-later/js-sdk/cards/"},"Paypal SDK developer documentation")," for more information."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n    createVaultCardSetupToken(\n        input: CreateVaultCardSetupTokenInput!\n    ) CreateVaultCardSetupTokenOutput\n}\n")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"The following example runs the ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardSetupToken")," mutation to create a setup token for the given payment details."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n      createVaultCardSetupToken(\n          input: {\n              setup_token: {\n                payment_source: {\n                    card: {\n                        name: "John Doe",\n                          billing_address: {\n                            address_line_1: "123 Main Street",\n                            address_line_2: "Apt 4B",\n                            region: "California",\n                            city: "San Jose",\n                            postal_code: "90001",\n                            country_code: "US"\n                          }\n                       }\n                   }\n            },\n            three_ds_mode: "SCA_ALWAYS"\n        }\n      ) {\n          setup_token\n      }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "data": {\n        "createVaultCardSetupToken": {\n            "setup_token": "11M29729J2618171X"\n        }\n    }\n}\n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CreateVaultCardSetupTokenInput")," object must contain the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"setup_token")),(0,d.mdx)("td",{parentName:"tr",align:null},"VaultSetupTokenInput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The setup token information")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"three_ds_mode")),(0,d.mdx)("td",{parentName:"tr",align:null},"ThreeDSMode"),(0,d.mdx)("td",{parentName:"tr",align:null},"Indicates which 3D Secure authentication mode is in use. The possible values are ",(0,d.mdx)("inlineCode",{parentName:"td"},"OFF"),", ",(0,d.mdx)("inlineCode",{parentName:"td"},"SCA_WHEN_REQUIRED"),", ",(0,d.mdx)("inlineCode",{parentName:"td"},"SCA_ALWAYS"))))),(0,d.mdx)("h3",{id:"vaultsetuptokeninput-attribute"},(0,d.mdx)("inlineCode",{parentName:"h3"},"VaultSetupTokenInput")," attribute"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"VaultSetupTokenInput")," object describes the variables needed to create a vault card setup token. Requires the following attribute:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"payment_source")),(0,d.mdx)("td",{parentName:"tr",align:null},"PaymentSourceInput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The payment source of the payment method.")))),(0,d.mdx)("h3",{id:"paymentsourceinput-attribute"},(0,d.mdx)("inlineCode",{parentName:"h3"},"PaymentSourceInput")," attribute"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaymentSourceInput")," object describes the payment source information of the payment method."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"card")),(0,d.mdx)("td",{parentName:"tr",align:null},"CardPaymentSourceInput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The card payment source information.")))),(0,d.mdx)("h3",{id:"cardpaymentsourceinput-object"},(0,d.mdx)("inlineCode",{parentName:"h3"},"CardPaymentSourceInput")," object"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CardPaymentSourceInput")," object describes the card payment source information."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"billing_address")),(0,d.mdx)("td",{parentName:"tr",align:null},"BillingAddressPaymentSourceInput!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The billing address of the card")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"name")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The cardholder's name")))),(0,d.mdx)("h3",{id:"billingaddresspaymentsourceinput-object"},(0,d.mdx)("inlineCode",{parentName:"h3"},"BillingAddressPaymentSourceInput")," object"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"BillingAddressPaymentSourceInput")," object includes the billing address information"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"address_line_1")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The first line of the address")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"address_line_2")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The second line of the address")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"region")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The region of the address")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"city")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The city of the address")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"postal_code")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The postal code of the address")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"country_code")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The country code of the address")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"createVaultCardSetupTokenOutput")," object contains the following attribute:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"setup_token")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The setup token ID")))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-payment-services-extension-mutations-create-vault-card-setup-token-md-b95d16851ff94f82eeef.js.map