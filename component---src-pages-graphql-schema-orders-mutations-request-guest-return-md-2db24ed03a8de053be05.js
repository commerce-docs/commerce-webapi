"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8489],{91563:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return x}});var a=n(58168),r=n(80045),m=(n(88763),n(15680)),u=n(83407);const i=["components"],d={},o=(l="InlineAlert",function(e){return console.warn("Component "+l+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)});var l;const s={_frontmatter:d},p=u.A;function x(e){let{components:t}=e,n=(0,r.A)(e,i);return(0,m.mdx)(p,(0,a.A)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"requestguestreturn-mutation"},"requestGuestReturn mutation"),(0,m.mdx)(o,{variant:"info",slots:"text1",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"This mutation is part of the ",(0,m.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/developer/commerce/storefront/setup/storefront-compatibility/"},"Storefront Compatibility Package"),". It will be added to Adobe Commerce 2.4.8-beta2."),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"requestGuestReturn")," mutation initiates a guest buyer's request to return an item for replacement or refund.\nA confirmation email is sent to the guest provided email address with a link to confirm the return request and continue the process."),(0,m.mdx)("p",null,"The following queries illustrate how to retrieve the token and item ID values needed to run the ",(0,m.mdx)("inlineCode",{parentName:"p"},"requestGuestReturn")," mutation:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"../queries/guest-order.md"},"Retrieve details about an order placed by a guest or customer who is not logged in")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"../queries/guest-order-by-token.md"},"Retrieve detailed information about a specific guest order"))),(0,m.mdx)(o,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"Use the ",(0,m.mdx)("a",{parentName:"p",href:"../../store/queries/store-config.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"storeConfig")," query")," with the ",(0,m.mdx)("inlineCode",{parentName:"p"},"returns_enabled")," attribute to determine whether returned merchandise authorization (RMAs) are enabled."),(0,m.mdx)("h2",{id:"syntax"},"Syntax"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n  requestGuestReturn(input: RequestGuestReturnInput!): RequestReturnOutput\n}\n")),(0,m.mdx)("h2",{id:"example-usage"},"Example usage"),(0,m.mdx)("p",null,"The following example requests a product return from a guest customer. Note that the return status after this request is ",(0,m.mdx)("inlineCode",{parentName:"p"},"UNCONFIRMED"),", as guest users need to confirm the return request as stated above."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation{\n  requestGuestReturn(input: {\n    token: "0:3:E2uahokr8ud2uV3/z/7ELF0yQGDtT6vHUbLEGCpM3wUfouCNWf7ZGaMUYEhRKnrbGCq9l4zDbpO8JMPqfA=="\n    contact_email: "test1@example.com"\n    comment_text: "I want to return the shirt because I don\'t like the texture of the fabric"\n    items: {\n      order_item_uid: "MTE="\n      quantity_to_return: 1\n    }\n  }){\n    return {\n      uid\n      items {\n        uid\n        status\n        request_quantity\n        quantity\n        order_item {\n          id\n          eligible_for_return\n          product_sku\n          product_sku\n          product_type\n          quantity_returned\n          status\n        }\n      }\n      number\n      status\n      comments {\n        uid\n        author_name\n        text\n        created_at\n      }\n      customer {\n        firstname\n        lastname\n        email\n      }\n    }\n  }\n}\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "requestGuestReturn": {\n      "return": {\n        "uid": "Mw==",\n        "items": [\n          {\n            "uid": "Mw==",\n            "status": "PENDING",\n            "request_quantity": 1,\n            "quantity": 0,\n            "order_item": {\n              "id": "MTE=",\n              "eligible_for_return": true,\n              "product_sku": "MS09-M-Red",\n              "product_type": "configurable",\n              "quantity_returned": 0,\n              "status": "Shipped"\n            }\n          }\n        ],\n        "number": "000000003",\n        "status": "UNCONFIRMED",\n        "comments": [\n          {\n            "uid": "Ng==",\n            "author_name": "Bob Loblaw",\n            "text": "I want to return the shirt because I don\'t like the texture of the fabric",\n            "created_at": "2020-11-19 18:20:28"\n          }\n        ],\n        "customer": {\n          "firstname": "Bob",\n          "lastname": "Loblaw",\n          "email": "test1@example.com"\n        }\n      }\n    }\n  }\n}\n')),(0,m.mdx)("h3",{id:"returns-attributes"},"Returns attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"Returns")," object contains an array of ",(0,m.mdx)("inlineCode",{parentName:"p"},"Return")," objects and pagination information."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"items")),(0,m.mdx)("td",{parentName:"tr",align:null},"[Return]"),(0,m.mdx)("td",{parentName:"tr",align:null},"A list of return requests")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"page_info")," SearchResultPageInfo"),(0,m.mdx)("td",{parentName:"tr",align:null},"Pagination metadata"),(0,m.mdx)("td",{parentName:"tr",align:null})),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"total_count")),(0,m.mdx)("td",{parentName:"tr",align:null},"Int"),(0,m.mdx)("td",{parentName:"tr",align:null},"The total number of return requests")))),(0,m.mdx)("h2",{id:"related-topics"},"Related topics"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"confirm-return.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"confirmReturn")," mutation")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"add-return-comment.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"addReturnComment")," mutation")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"add-return-tracking.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"addReturnTracking")," mutation")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"remove-return-tracking.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"removeReturnTracking")," mutation"))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-orders-mutations-request-guest-return-md-2db24ed03a8de053be05.js.map